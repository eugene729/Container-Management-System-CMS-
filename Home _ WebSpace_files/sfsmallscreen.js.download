!function(e){e.fn.sfsmallscreen=function(n){function s(i,a){for(var t="",l=e(i).children("li"),d=0;d<l.length;d++)for(var o=l.eq(d),r=o.children("a, span"),c=0;c<r.length;c++){var u=r.eq(c),f=u.is("a")&&u.attr("href")?u.attr("href"):"",h=u.clone(),p=n.hyperlinkClasses?n.excludeClass_hyperlink&&h.hasClass(n.excludeClass_hyperlink)?h.removeClass(n.excludeClass_hyperlink).attr("class"):h.attr("class"):"",p=n.includeClass_hyperlink&&!h.hasClass(n.includeClass_hyperlink)?n.hyperlinkClasses?h.addClass(n.includeClass_hyperlink).attr("class"):n.includeClass_hyperlink:p;n.addSelected&&u.hasClass("active")&&(p+=" active"),p=p?' class="'+p+'"':"",disable=""==f||"#"==f?' disabled="disabled"':"",subIndicator=1<a?Array(a).join("-")+" ":"",t+='<option value="'+f+'"'+p+disable+">"+subIndicator+e.trim(u.text())+"</option>",childUL=o.find("> ul");for(var m=0;m<childUL.length;m++)t+=s(childUL.eq(m),a+1)}return t}function i(i){var a=i.attr("id"),t=function(e){for(var s=e.clone(),i=s.find("span.sf-sub-indicator"),a=s.find(".sf-smallscreen-remove"),t=s.find("ul.sf-multicolumn"),l=0;l<a.length;l++)a.eq(l).replaceWith(a.eq(l).html());if(2==n.accordionButton||"select"==n.type)for(var d=0;d<i.length;d++)i.eq(d).remove();if(t.length>0){t.removeClass("sf-multicolumn");for(var o=s.find("div.sf-multicolumn-column > ol"),r=0;r<o.length;r++)o.eq(r).replaceWith("<ul>"+o.eq(r).html()+"</ul>");for(var c=["div.sf-multicolumn-column",".sf-multicolumn-wrapper > ol","li.sf-multicolumn-wrapper"],u=0;u<c.length;u++){obj=s.find(c[u]);for(var f=0;f<obj.length;f++)obj.eq(f).replaceWith(obj.eq(f).html())}s.find(".sf-multicolumn-column").removeClass("sf-multicolumn-column")}return s.add(s.find("*")).css({width:""}),s}(i);if("accordion"==n.type){var l=a+"-toggle",d=a+"-accordion";if(0==e("#"+d).length){var o=i.attr("class").split(" ").filter(function(e){return e.indexOf("sf-style-")>-1?e:""}),r=e(t).attr("id",d);r.removeClass("sf-horizontal sf-vertical sf-navbar sf-shadow sf-js-enabled"),r.addClass("sf-accordion sf-hidden"),r.find("li").each(function(){e(this).removeAttr("style").removeClass("sfHover").attr("id",e(this).attr("id")+"-accordion")}),r.children("ul").removeAttr("style").not(".sf-hidden").addClass("sf-hidden");var c='<div class="sf-accordion-toggle '+o+'"><a href="#" id="'+l+'"><span>'+n.title+"</span></a></div>";if(2==n.accordionButton){r.addClass("sf-accordion-with-buttons");for(var u=r.find("li.menuparent"),f=0;f<u.length;f++)u.eq(f).prepend('<a href="#" class="sf-accordion-button">'+n.expandText+"</a>")}i.before(c).before(r).hide();var h=e("#"+d),p=n.accordionButton<2?"a.menuparent,span.nolink.menuparent":"a.sf-accordion-button",m=h.find(p);e("#"+l).on("click",function(s){s.preventDefault(),e(this).toggleClass("sf-expanded"),h.hasClass("sf-expanded")?(h.add(h.find("li.sf-expanded")).removeClass("sf-expanded").end().children("ul").hide().end().hide().addClass("sf-hidden").show(),2==n.accordionButton&&h.find("a.sf-accordion-button").text(n.expandText)):h.addClass("sf-expanded").hide().removeClass("sf-hidden").show()}),m.on("click",function(s){if(e(this).closest("li").children("ul").length>0){s.preventDefault();var i=e(this).closest("li");if(1==n.accordionButton&&i.children("a.menuparent,span.nolink.menuparent").length>0&&0==i.children("ul").children("li.sf-clone-parent").length){var a=i.children("a.menuparent,span.nolink.menuparent").clone();a.removeClass("menuparent sf-with-ul").children(".sf-sub-indicator").remove(),a=e('<li class="sf-clone-parent" />').html(a),i.children("ul").addClass("sf-has-clone-parent").prepend(a)}i.hasClass("sf-expanded")?(i.children("ul").slideUp("fast",function(){e(this).closest("li").removeClass("sf-expanded").end().addClass("sf-hidden").show()}),2==n.accordionButton&&i.children(".sf-accordion-button").length>0&&i.children(".sf-accordion-button").text(n.expandText)):i.children("ul").hide().removeClass("sf-hidden").slideDown("fast").end().addClass("sf-expanded").children("a.sf-accordion-button").text(n.collapseText).end().siblings("li.sf-expanded").children("ul").slideUp("fast",function(){e(this).closest("li").removeClass("sf-expanded").end().addClass("sf-hidden").show()}).parent().children("a.sf-accordion-button").text(n.expandText)}})}}else{var v=i.clone(),C=n.menuClasses?n.excludeClass_menu&&v.hasClass(n.excludeClass_menu)?v.removeClass(n.excludeClass_menu).attr("class"):v.attr("class"):"",C=(C=n.includeClass_menu&&!v.hasClass(n.includeClass_menu)?n.menuClasses?v.addClass(n.includeClass_menu).attr("class"):n.includeClass_menu:C)?' class="'+C+'"':"";if(0==e("#"+a+"-select").length){var x=s(t,1),b=e("<select"+C+' id="'+a+'-select"/>').html("<option>"+n.title+"</option>"+x).change(function(){e("option:selected",this).index()&&(window.location=b.val())});n.addSelected&&b.find(".active").attr("selected",!0),i.before(b).hide()}}}function a(s){var i="#"+s.attr("id");e(i+"-"+n.type).remove(),"accordion"==n.type&&e(i+"-toggle").parent("div").remove(),e(i).css("display","")}n=e.extend({mode:"inactive",type:"accordion",breakpoint:768,breakpointUnit:"px",useragent:"",title:"",addSelected:!1,menuClasses:!1,hyperlinkClasses:!1,excludeClass_menu:"",excludeClass_hyperlink:"",includeClass_menu:"",includeClass_hyperlink:"",accordionButton:1,expandText:"Expand",collapseText:"Collapse"},n);for(var t=0;t<this.length;t++){var l=e(this).eq(t),d=n.mode;if("always_active"==d)i(l);else if("window_width"==d){var o,r="em"==n.breakpointUnit?n.breakpoint*parseFloat(e("body").css("font-size")):n.breakpoint,c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;("undefined"==typeof Modernizr||"function"!=typeof Modernizr.mq)&&c<r?i(l):"undefined"!=typeof Modernizr&&"function"==typeof Modernizr.mq&&Modernizr.mq("(max-width:"+(r-1)+"px)")&&i(l),e(window).resize(function(){clearTimeout(o),o=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;("undefined"==typeof Modernizr||"function"!=typeof Modernizr.mq)&&e<r?i(l):"undefined"!=typeof Modernizr&&"function"==typeof Modernizr.mq&&Modernizr.mq("(max-width:"+(r-1)+"px)")?i(l):a(l)},50)})}else if("useragent_custom"==d){if(""!=n.useragent){var u=RegExp(n.useragent,"i");navigator.userAgent.match(u)&&i(l)}}else"useragent_predefined"==d&&navigator.userAgent.match(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i)&&i(l)}return this}}(jQuery);