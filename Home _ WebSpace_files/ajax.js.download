!function(e,t,s,r){"use strict";s.behaviors.AJAX={attach:function(t,r){function a(t){var a=r.ajax[t];void 0===a.selector&&(a.selector="#"+t),e(a.selector).once("drupal-ajax").each(function(){a.element=this,a.base=t,s.ajax(a)})}for(var o in r.ajax)r.ajax.hasOwnProperty(o)&&a(o);e(".use-ajax").once("ajax").each(function(){var t={};t.progress={type:"throbber"};var r=e(this).attr("href");r&&(t.url=r,t.event="click"),t.dialogType=e(this).data("dialog-type"),t.dialog=e(this).data("dialog-options"),t.base=e(this).attr("id"),t.element=this,s.ajax(t)}),e(".use-ajax-submit").once("ajax").each(function(){var t={};t.url=e(this.form).attr("action"),t.setClick=!0,t.event="click",t.progress={type:"throbber"},t.base=e(this).attr("id"),t.element=this,s.ajax(t)})},detach:function(e,t,r){"unload"===r&&s.ajax.expired().forEach(function(e){s.ajax.instances[e.instanceIndex]=null})}},s.AjaxError=function(t,r,a){var o,n,i,l,c;o=t.status?"\n"+s.t("An AJAX HTTP error occurred.")+"\n"+s.t("HTTP Result Code: !status",{"!status":t.status}):"\n"+s.t("An AJAX HTTP request terminated abnormally."),o+="\n"+s.t("Debugging information follows."),i="\n"+s.t("Path: !uri",{"!uri":r}),n="";try{n="\n"+s.t("StatusText: !statusText",{"!statusText":e.trim(t.statusText)})}catch(e){}l="";try{l="\n"+s.t("ResponseText: !responseText",{"!responseText":e.trim(t.responseText)})}catch(e){}l=(l=l.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,"")).replace(/[\n]+\s+/g,"\n"),c=0===t.status?"\n"+s.t("ReadyState: !readyState",{"!readyState":t.readyState}):"",a=a?"\n"+s.t("CustomMessage: !customMessage",{"!customMessage":a}):"",this.message=o+i+n+a+l+c,this.name="AjaxError"},s.AjaxError.prototype=new Error,s.AjaxError.prototype.constructor=s.AjaxError,s.ajax=function(e){if(1!==arguments.length)throw new Error("Drupal.ajax() function must be called with one configuration object only");var t=e.base||!1,r=e.element||!1;delete e.base,delete e.element,e.progress||r||(e.progress=!1);var a=new s.Ajax(t,r,e);return a.instanceIndex=s.ajax.instances.length,s.ajax.instances.push(a),a},s.ajax.instances=[],s.ajax.expired=function(){return s.ajax.instances.filter(function(e){return e&&!1!==e.element&&!document.body.contains(e.element)})},s.Ajax=function(t,a,o){var n={event:a?"mousedown":null,keypress:!0,selector:t?"#"+t:null,effect:"none",speed:"none",method:"replaceWith",progress:{type:"throbber",message:s.t("Please wait...")},submit:{js:!0}};if(e.extend(this,n,o),this.commands=new s.AjaxCommands,this.instanceIndex=!1,this.wrapper&&(this.wrapper="#"+this.wrapper),this.element=a,this.element_settings=o,this.element&&this.element.form&&(this.$form=e(this.element.form)),!this.url){var i=e(this.element);i.is("a")?this.url=i.attr("href"):this.element&&a.form&&(this.url=this.$form.attr("action"))}var l=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/g,"/ajax$1"),r.ajaxTrustedUrl[l]&&(r.ajaxTrustedUrl[this.url]=!0);var c=this;c.options={url:c.url,data:c.submit,beforeSerialize:function(e,t){return c.beforeSerialize(e,t)},beforeSubmit:function(e,t,s){return c.ajaxing=!0,c.beforeSubmit(e,t,s)},beforeSend:function(e,t){return c.ajaxing=!0,c.beforeSend(e,t)},success:function(t,a,o){if("string"==typeof t&&(t=e.parseJSON(t)),null!==t&&!r.ajaxTrustedUrl[c.url]&&"1"!==o.getResponseHeader("X-Drupal-Ajax-Token")){var n=s.t("The response failed verification so will not be processed.");return c.error(o,c.url,n)}return c.success(t,a)},complete:function(e,t){if(c.ajaxing=!1,"error"===t||"parsererror"===t)return c.error(e,c.url)},dataType:"json",type:"POST"},o.dialog&&(c.options.data.dialogOptions=o.dialog),-1===c.options.url.indexOf("?")?c.options.url+="?":c.options.url+="&",c.options.url+=s.ajax.WRAPPER_FORMAT+"=drupal_"+(o.dialogType||"ajax"),e(c.element).on(o.event,function(e){if(!r.ajaxTrustedUrl[c.url]&&!s.url.isLocal(c.url))throw new Error(s.t("The callback URL is not local and not trusted: !url",{"!url":c.url}));return c.eventResponse(this,e)}),o.keypress&&e(c.element).on("keypress",function(e){return c.keypressResponse(this,e)}),o.prevent&&e(c.element).on(o.prevent,!1)},s.ajax.WRAPPER_FORMAT="_wrapper_format",s.Ajax.AJAX_REQUEST_PARAMETER="_drupal_ajax",s.Ajax.prototype.execute=function(){if(!this.ajaxing)try{return this.beforeSerialize(this.element,this.options),e.ajax(this.options)}catch(s){return this.ajaxing=!1,t.alert("An error occurred while attempting to process "+this.options.url+": "+s.message),e.Deferred().reject()}},s.Ajax.prototype.keypressResponse=function(t,s){(13===s.which||32===s.which&&"text"!==t.type&&"textarea"!==t.type&&"tel"!==t.type&&"number"!==t.type)&&(s.preventDefault(),s.stopPropagation(),e(this.element_settings.element).trigger(this.element_settings.event))},s.Ajax.prototype.eventResponse=function(s,r){r.preventDefault(),r.stopPropagation();var a=this;if(!a.ajaxing)try{a.$form?(a.setClick&&(s.form.clk=s),a.$form.ajaxSubmit(a.options)):(a.beforeSerialize(a.element,a.options),e.ajax(a.options))}catch(e){a.ajaxing=!1,t.alert("An error occurred while attempting to process "+a.options.url+": "+e.message)}},s.Ajax.prototype.beforeSerialize=function(e,t){if(this.$form){var a=this.settings||r;s.detachBehaviors(this.$form.get(0),a,"serialize")}t.data[s.Ajax.AJAX_REQUEST_PARAMETER]=1;var o=r.ajaxPageState;t.data["ajax_page_state[theme]"]=o.theme,t.data["ajax_page_state[theme_token]"]=o.theme_token,t.data["ajax_page_state[libraries]"]=o.libraries},s.Ajax.prototype.beforeSubmit=function(e,t,s){},s.Ajax.prototype.beforeSend=function(t,s){if(this.$form){s.extraData=s.extraData||{},s.extraData.ajax_iframe_upload="1";var r=e.fieldValue(this.element);null!==r&&(s.extraData[this.element.name]=r)}if(e(this.element).prop("disabled",!0),this.progress&&this.progress.type){var a="setProgressIndicator"+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();a in this&&"function"==typeof this[a]&&this[a].call(this)}},s.Ajax.prototype.setProgressIndicatorBar=function(){var t=new s.ProgressBar("ajax-progress-"+this.element.id,e.noop,this.progress.method,e.noop);this.progress.message&&t.setProgress(-1,this.progress.message),this.progress.url&&t.startMonitoring(this.progress.url,this.progress.interval||1500),this.progress.element=e(t.element).addClass("ajax-progress ajax-progress-bar"),this.progress.object=t,e(this.element).after(this.progress.element)},s.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>'),this.progress.message&&this.progress.element.find(".throbber").after('<div class="message">'+this.progress.message+"</div>"),e(this.element).after(this.progress.element)},s.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>'),e("body").after(this.progress.element)},s.Ajax.prototype.success=function(t,a){this.progress.element&&e(this.progress.element).remove(),this.progress.object&&this.progress.object.stopMonitoring(),e(this.element).prop("disabled",!1);var o=e(this.element).parents("[data-drupal-selector]").addBack().toArray(),n=!1;for(var i in t)t.hasOwnProperty(i)&&t[i].command&&this.commands[t[i].command]&&(this.commands[t[i].command](this,t[i],a),"invoke"===t[i].command&&"focus"===t[i].method&&(n=!0));if(!n&&this.element&&!e(this.element).data("disable-refocus")){for(var l=!1,c=o.length-1;!l&&c>0;c--)l=document.querySelector('[data-drupal-selector="'+o[c].getAttribute("data-drupal-selector")+'"]');l&&e(l).trigger("focus")}if(this.$form){var h=this.settings||r;s.attachBehaviors(this.$form.get(0),h)}this.settings=null},s.Ajax.prototype.getEffect=function(e){var t=e.effect||this.effect,s=e.speed||this.speed,r={};return"none"===t?(r.showEffect="show",r.hideEffect="hide",r.showSpeed=""):"fade"===t?(r.showEffect="fadeIn",r.hideEffect="fadeOut",r.showSpeed=s):(r.showEffect=t+"Toggle",r.hideEffect=t+"Toggle",r.showSpeed=s),r},s.Ajax.prototype.error=function(t,a,o){if(this.progress.element&&e(this.progress.element).remove(),this.progress.object&&this.progress.object.stopMonitoring(),e(this.wrapper).show(),e(this.element).prop("disabled",!1),this.$form){var n=this.settings||r;s.attachBehaviors(this.$form.get(0),n)}throw new s.AjaxError(t,a,o)},s.AjaxCommands=function(){},s.AjaxCommands.prototype={insert:function(t,a,o){var n,i=e(a.selector?a.selector:t.wrapper),l=a.method||t.method,c=t.getEffect(a),h=e("<div></div>").html(a.data),p=h.contents();switch(1===p.length&&1===p.get(0).nodeType||(p=h),l){case"html":case"replaceWith":case"replaceAll":case"empty":case"remove":n=a.settings||t.settings||r,s.detachBehaviors(i.get(0),n)}i[l](p),"show"!==c.showEffect&&p.hide(),p.find(".ajax-new-content").length>0?(p.find(".ajax-new-content").hide(),p.show(),p.find(".ajax-new-content")[c.showEffect](c.showSpeed)):"show"!==c.showEffect&&p[c.showEffect](c.showSpeed),p.parents("html").length>0&&(n=a.settings||t.settings||r,s.attachBehaviors(p.get(0),n))},remove:function(t,a,o){var n=a.settings||t.settings||r;e(a.selector).each(function(){s.detachBehaviors(this,n)}).remove()},changed:function(t,r,a){var o=e(r.selector);o.hasClass("ajax-changed")||(o.addClass("ajax-changed"),r.asterisk&&o.find(r.asterisk).append(' <abbr class="ajax-changed" title="'+s.t("Changed")+'">*</abbr> '))},alert:function(e,s,r){t.alert(s.text,s.title)},redirect:function(e,s,r){t.location=s.url},css:function(t,s,r){e(s.selector).css(s.argument)},settings:function(t,a,o){var n=r.ajax;n&&s.ajax.expired().forEach(function(e){if(e.selector){var t=e.selector.replace("#","");t in n&&delete n[t]}}),a.merge?e.extend(!0,r,a.settings):t.settings=a.settings},data:function(t,s,r){e(s.selector).data(s.name,s.value)},invoke:function(t,s,r){var a=e(s.selector);a[s.method].apply(a,s.args)},restripe:function(t,s,r){e(s.selector).find("> tbody > tr:visible, > tr:visible").removeClass("odd even").filter(":even").addClass("odd").end().filter(":odd").addClass("even")},update_build_id:function(t,s,r){e('input[name="form_build_id"][value="'+s.old+'"]').val(s.new)},add_css:function(t,s,r){e("head").prepend(s.data);var a,o=/^@import url\("(.*)"\);$/gim;if(document.styleSheets[0].addImport&&o.test(s.data)){o.lastIndex=0;do{a=o.exec(s.data),document.styleSheets[0].addImport(a[1])}while(a)}}}}(jQuery,window,Drupal,drupalSettings);